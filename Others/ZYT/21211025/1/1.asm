PORTA EQU 0640H
PORTB EQU 0642H
CONTROL EQU 0646H

CODE SEGMENT
ASSUME CS:CODE

START:
MOV AL,090H
MOV DX,CONTROL
OUT DX,AL
P:
MOV DX,PORTA
IN AL,DX
CALL DELAY

MOV DX,PORTB
OUT DX,AL
JMP P

DELAY:
PUSH CX
MOV CX,0F00H
AA2:
PUSH AX
POP AX
LOOP AA2
POP CX
RET

CODE ENDS
END START