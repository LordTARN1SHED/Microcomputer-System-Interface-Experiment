SSTACK SEGMENT STACK
	DW 64 DUP(?)
SSTACK ENDS

CODE SEGMENT
	ASSUME CS:CODE
	
START:
	MOV DX, 0606H ;选择IOY0
	MOV AL, 90H
	OUT DX, AL
	
AA1:
	MOV DX, 0640H ;启动A/D转换
	OUT DX, AL

CONTINUE:	
	MOV DX, 0600H ;检测EOC是否为1
	IN AL, DX
	AND AL, 080H
	CMP AL, 080H
	JE AA2
	JMP CONTINUE
	
AA2:
	MOV DX, 0640H ;
	IN AL, DX
	MOV DX, 0602H
	OUT DX, AL
	JMP AA1
	
DELAY:
	PUSH CX
	PUSH AX
	MOV CX, 0FFFH
L1:
	LOOP L1
	POP AX
	POP CX
	RET
	
CODE ENDS
	END START